define(["jquery","jqueryui","mod_treasurehunt/intro"],function(a,b,c){var d={editpage:function(a){var b=c();b.setOptions({nextLabel:a.nextstep,prevLabel:a.prevstep,skipLabel:a.skiptutorial,doneLabel:a.donetutorial,steps:[{element:"#treasurehunt-editor",intro:a.welcome_edit_tour,position:"floating"},{element:"#mapedit",intro:a.map_tour,position:"floating"},{element:"#roadlist",intro:a.roads_tour,position:"top"},{element:"#stagelistpanel",intro:a.stages_tour,position:"right"},{element:"#addroad",intro:a.addroad_tour,position:"bottom"},{element:"#addstage",intro:a.addstage_tour,position:"bottom"},{element:"#savestage",intro:a.save_tour,position:"bottom"},{element:"#treasurehunt-editor",intro:a.editend_tour,position:"floating"}]}),b.oncomplete(function(a){document.cookie="introEditProgress = Done"}),b.onchange(function(a){document.cookie="introEditStep = "+a.name});var d={};document.cookie.split(";").forEach(function(a){var b=a.split("=");b[1]&&(d[b[0].trim()]=b[1].trim())}),"Done"!=d.introEditProgress&&setTimeout(function(){b.start()},1e3)},playpage:function(a){var b={};document.cookie.split(";").forEach(function(a){var c=a.split("=");c[1]&&(b[c[0].trim()]=c[1].trim())}),"Done"!=b.introPlayProgress&&setTimeout(function(){var b=c();b.setOptions({nextLabel:a.nextstep,prevLabel:a.prevstep,skipLabel:a.skiptutorial,doneLabel:a.donetutorial,steps:[{intro:a.welcome_play_tour,position:"floating"},{element:"#collapsibleset",intro:a.lastsuccessfulstage_tour,position:"top"},{element:"#mapplay",intro:a.mapplay_tour,position:"floating"},{element:"#validatelocation",intro:a.validatelocation_tour,position:"top"},{element:"#autolocate",intro:a.autolocate_tour,position:"top"},{element:"#treasurehunt-editor",intro:a.playend_tour,position:"floating"}]}),b.oncomplete(function(a){document.cookie="introPlayProgress = Done"}),b.onchange(function(a){document.cookie="introPlayStep = "+this._currentStep}),b.onafterchange(function(a){for(var b=a.parentElement;null!=b;){if("panel"==b.dataset.role){b.style="z-index: 1001 !important";break}b=b.parentElement}}),b.start()},1e3)}};return d});